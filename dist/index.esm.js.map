{"version":3,"file":"index.esm.js","sources":["../src/components/Todo/hooks/add.js","../src/components/Todo/hooks/delete.js","../src/components/Todo/hooks/change.js","../src/components/Todo/hooks/todosReducer.js","../src/lib/TodoList.js"],"sourcesContent":["import { useState } from 'react';\r\n\r\nexport const useAddTodo = (dispatch, inputRef) => {\r\n  const [todoInput, setTodoInput] = useState('');\r\n  const [editingTodo, setEditingTodo] = useState(null);\r\n\r\n  const handleAddOrUpdateTodo = (e) => {\r\n    e.preventDefault();\r\n    if (!todoInput.trim()) return;\r\n\r\n    if (editingTodo) {\r\n      dispatch({ \r\n        type: 'changed', \r\n        todo: { ...editingTodo, text: todoInput } \r\n      });\r\n      setEditingTodo(null);\r\n    } else {\r\n      dispatch({ \r\n        type: 'added', \r\n        id: crypto.randomUUID(), \r\n        text: todoInput \r\n      });\r\n    }\r\n    setTodoInput('');\r\n    inputRef.current.focus();\r\n  };\r\n\r\n  const handleEditTodo = (todo) => {\r\n    setTodoInput(todo.text);\r\n    setEditingTodo(todo);\r\n    inputRef.current.focus();\r\n  };\r\n\r\n  return {\r\n    todoInput,\r\n    setTodoInput,\r\n    editingTodo,\r\n    handleAddOrUpdateTodo,\r\n    handleEditTodo\r\n  };\r\n};\r\n","export const useDeleteTodo = (dispatch) => {\r\n  const handleDeleteTodo = (id) => {\r\n    dispatch({ type: 'deleted', id });\r\n  };\r\n\r\n  return { handleDeleteTodo };\r\n};\r\n","export const useChangeTodo = (dispatch) => {\r\n  const handleToggleDone = (todo) => {\r\n    dispatch({\r\n      type: 'changed',\r\n      todo: { ...todo, done: !todo.done },\r\n    });\r\n  };\r\n\r\n  return { handleToggleDone };\r\n};\r\n","function todosReducer(todos, action) {\r\n  switch (action.type) {\r\n    case 'added': {\r\n      return [\r\n        ...todos,\r\n        {\r\n          id: action.id,\r\n          text: action.text,\r\n          done: false,\r\n        },\r\n      ];\r\n    }\r\n    case 'changed': {\r\n      return todos.map((t) => {\r\n        if (t.id === action.todo.id) {\r\n          return action.todo;\r\n        } else {\r\n          return t;\r\n        }\r\n      });\r\n    }\r\n    case 'deleted': {\r\n      return todos.filter((t) => t.id !== action.id);\r\n    }\r\n    default: {\r\n      throw Error('Unknown action: ' + action.type);\r\n    }\r\n  }\r\n}\r\n\r\nexport default todosReducer;\r\n","import { useReducer, useState, useRef, useMemo, useEffect } from 'react';\r\nimport { CiCirclePlus } from \"react-icons/ci\";\r\nimport { FaRegTrashAlt, FaEdit } from \"react-icons/fa\";\r\nimport { useAddTodo } from '../components/Todo/hooks/add';\r\nimport { useDeleteTodo } from '../components/Todo/hooks/delete';\r\nimport { useChangeTodo } from '../components/Todo/hooks/change';\r\nimport todosReducer from '../components/Todo/hooks/todosReducer';\r\nimport '../components/Todo/styles/TodoList.css';\r\n\r\nconst STORAGE_KEY = 'ReactTodoComponents_Todos';\r\n\r\nconst loadTodosFromStorage = (storageKey = STORAGE_KEY) => {\r\n  try {\r\n    const savedTodos = localStorage.getItem(storageKey);\r\n    return savedTodos ? JSON.parse(savedTodos) : [];\r\n  } catch (error) {\r\n    console.error('Error loading todos from localStorage:', error);\r\n    return [];\r\n  }\r\n};\r\n\r\nconst saveTodosToStorage = (todos, storageKey = STORAGE_KEY) => {\r\n  try {\r\n    localStorage.setItem(storageKey, JSON.stringify(todos));\r\n  } catch (error) {\r\n    console.error('Error saving todos to localStorage:', error);\r\n  }\r\n};\r\n\r\nconst TodoList = ({ \r\n  className = '',\r\n  storageKey = STORAGE_KEY,\r\n  title = 'To-Do List',\r\n  showFilters = true,\r\n  enablePersistence = true,\r\n  ...props \r\n}) => {\r\n  const [todos, dispatch] = useReducer(\r\n    todosReducer, \r\n    [], \r\n    () => enablePersistence ? loadTodosFromStorage(storageKey) : []\r\n  );\r\n  const [filter, setFilter] = useState('all'); \r\n  const inputRef = useRef(null);\r\n  \r\n  const { todoInput, setTodoInput, editingTodo, handleAddOrUpdateTodo, handleEditTodo } = useAddTodo(dispatch, inputRef);\r\n  const { handleDeleteTodo } = useDeleteTodo(dispatch);\r\n  const { handleToggleDone } = useChangeTodo(dispatch);\r\n  \r\n  useEffect(() => {\r\n    if (enablePersistence) {\r\n      saveTodosToStorage(todos, storageKey);\r\n    }\r\n  }, [todos, storageKey, enablePersistence]);\r\n\r\n  const filteredTodos = useMemo(() => {\r\n    switch (filter) {\r\n      case 'active':\r\n        return todos.filter(todo => !todo.done);\r\n      case 'completed':\r\n        return todos.filter(todo => todo.done);\r\n      default:\r\n        return todos;\r\n    }\r\n  }, [todos, filter]);\r\n\r\n  return (\r\n    <div className={`todo-container ${className}`} id=\"todo-container\" {...props}>\r\n      <div className=\"todo-wrapper\" id=\"todo-wrapper\">\r\n        <h1 className=\"todo-title\" id=\"todo-title\">{title}</h1>\r\n\r\n        <form onSubmit={handleAddOrUpdateTodo} className=\"todo-form\" id=\"todo-form\">\r\n          <input\r\n            ref={inputRef}\r\n            type=\"text\"\r\n            value={todoInput}\r\n            onChange={(e) => setTodoInput(e.target.value)}\r\n            placeholder=\"Add a new todo...\"\r\n            className=\"todo-input\"\r\n            id=\"todo-input\"\r\n          />\r\n          <button type=\"submit\" className=\"todo-submit-btn\" id=\"todo-submit-btn\">\r\n            {editingTodo ? (\r\n              <>\r\n                <FaEdit size={20} id=\"edit-icon\" />\r\n                <span id=\"edit-text\">Update</span>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <CiCirclePlus size={20} id=\"add-icon\" />\r\n                <span id=\"add-text\">Add</span>\r\n              </>\r\n            )}\r\n          </button>\r\n        </form>\r\n\r\n        {showFilters && todos.length > 0 && (\r\n          <div className=\"filter-container\" id=\"filter-container\">\r\n            <button\r\n              id=\"filter-all\"\r\n              onClick={() => setFilter('all')}\r\n              className={`filter-btn ${filter === 'all' ? 'active' : ''}`}\r\n            >\r\n              All\r\n            </button>\r\n            <button\r\n              id=\"filter-active\"\r\n              onClick={() => setFilter('active')}\r\n              className={`filter-btn ${filter === 'active' ? 'active' : ''}`}\r\n            >\r\n              Active\r\n            </button>\r\n            <button\r\n              id=\"filter-completed\"\r\n              onClick={() => setFilter('completed')}\r\n              className={`filter-btn ${filter === 'completed' ? 'active' : ''}`}\r\n            >\r\n              Completed\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <ul className=\"todo-list\" id=\"todo-list\">\r\n          {filteredTodos.map(todo => (\r\n            <li key={todo.id} className=\"todo-item\" id={`todo-item-${todo.id}`}>\r\n              <div className=\"todo-content\" id={`todo-content-${todo.id}`}>\r\n                <input\r\n                  id={`todo-checkbox-${todo.id}`}\r\n                  type=\"checkbox\"\r\n                  checked={todo.done}\r\n                  onChange={() => handleToggleDone(todo)}\r\n                />\r\n                <div className={`todo-text ${todo.done ? 'completed' : ''}`} id={`todo-text-${todo.id}`}>\r\n                  {todo.text}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"todo-actions\" id={`todo-actions-${todo.id}`}>\r\n                <button\r\n                  id={`edit-btn-${todo.id}`}\r\n                  onClick={() => handleEditTodo(todo)}\r\n                  className=\"action-btn\"\r\n                  title=\"Edit todo\"\r\n                >\r\n                  <FaEdit size={20} id={`edit-icon-${todo.id}`} />\r\n                </button>\r\n                <button\r\n                  id={`delete-btn-${todo.id}`}\r\n                  onClick={() => handleDeleteTodo(todo.id)}\r\n                  className=\"action-btn\"\r\n                  title=\"Delete todo\"\r\n                >\r\n                  <FaRegTrashAlt size={20} id={`delete-icon-${todo.id}`} />\r\n                </button>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoList;\r\n"],"names":["useAddTodo","dispatch","inputRef","todoInput","setTodoInput","useState","editingTodo","setEditingTodo","handleAddOrUpdateTodo","e","preventDefault","trim","type","todo","text","id","crypto","randomUUID","current","focus","handleEditTodo","useDeleteTodo","handleDeleteTodo","useChangeTodo","handleToggleDone","done","todosReducer","todos","action","map","t","filter","Error","STORAGE_KEY","TodoList","className","storageKey","title","showFilters","enablePersistence","props","useReducer","loadTodosFromStorage","savedTodos","localStorage","getItem","JSON","parse","error","console","setFilter","useRef","useEffect","saveTodosToStorage","setItem","stringify","filteredTodos","useMemo","_jsx","children","_jsxs","onSubmit","ref","value","onChange","target","placeholder","_Fragment","FaEdit","size","CiCirclePlus","length","onClick","checked","FaRegTrashAlt"],"mappings":"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"}